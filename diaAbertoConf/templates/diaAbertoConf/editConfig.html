{% extends 'diaAbertoConf/Home.html' %}

{% block content %}
    <div class="mt-3 mx-2 pb-5">
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb bg-white">
				<li class="breadcrumb-item"><a href="{% url 'diaAbertoConf:index' %}">Início</a></li>
				<li class="breadcrumb-item active">Configuração do Dia Aberto</li>
			</ol>
		</nav>
		<div class="row">
			<div class = "col-sm-4 offset-sm-4">
            	<h4 style="text-align:center;">Configuração do Dia Aberto</h4>
    		</div>
			<div class = "col-sm-4 offset-sm-4">
    			{% for key, value in form.errors.items %}
            		{% for error in value %}
            	    	<div class="alert alert-danger" role="alert" style="text-align:center;">
            	    	    {{ error }}
            	    	</div>
            		{% endfor%}
            	{% endfor%}
            </div>
			<div class="col-sm-8 offset-sm-2 mt-3">
            	<div class="progress" style="height: 35px;">
  					<div class="progress-bar step1" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Informação do Dia Aberto</div>
					<div class="progress-bar bg-secondary step2" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Período de Proposta de Atividades</div>
					<div class="progress-bar bg-secondary step3" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Período de Inscrições</div>
					<div class="progress-bar bg-secondary step4" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Almoços</div>
					<div class="progress-bar bg-secondary step5" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Contactos</div>
				</div>
    		</div>	
		</div>
        <hr class="mx-5">
    	<div class = "row">
    		<div class = "col-sm-6 offset-sm-3 mt-5">
				<form action = "{% url 'diaAbertoConf:editConfig' %}" method="post">
            		{% csrf_token %}
					<div class="InfoDiaAberto">
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Título</label>
							</div>
    						<div class="col-sm-8">
								<input id="titulo" type="text" name="titulo" class="form-control" value ="{{ diaAberto_data.titulo }}" required>
    						</div>
  						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Descrição</label>
							</div>
    						<div class="col-sm-8">
								<textarea name="descricao" class="form-control" rows="7" required>{{ diaAberto_data.descricao }}</textarea>
    						</div>
  						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Data de início</label>
							</div>
    						<div class="col-sm-8">
								<input id="data_inicio" type="date" name="data_inicio" class="form-control" value ="{{ diaAberto_data.data_inicio|date:"Y-m-d"}}" required>
    						</div>
  						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Data de fim</label>
							</div>
    						<div class="col-sm-8">
								<input id="data_fim" type="date" name="data_fim" class="form-control" value ="{{ diaAberto_data.data_fim|date:"Y-m-d"}}" required>
    						</div>
  						</div>
					</div>
					<div class="InfoAtividades" style="display: none;">
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Início do período de proposta de Atividades</label>
							</div>
    						<div class="col-sm-8">
      							<input id="data_inicio_propor_atividades" type="date" name="data_inicio_propor_atividades" class="form-control" value ="{{ diaAberto_data.data_inicio_propor_atividades|date:"Y-m-d"}}" required>
    						</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Fim do período de proposta de Atividades</label>
							</div>
    						<div class="col-sm-8">
      							<input id="data_fim_propor_atividades" type="date" name="data_fim_propor_atividades" class="form-control" value ="{{ diaAberto_data.data_fim_propor_atividades|date:"Y-m-d"}}" required>
    						</div>
						</div>
					</div>
					<div class="InfoInscricao" style="display: none;">
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Início do período de inscrição de participantes</label>
							</div>
    						<div class="col-sm-8">
      							<input id="data_inicio_inscricao" type="date" name="data_inicio_inscricao" class="form-control" value ="{{ diaAberto_data.data_inicio_inscricao|date:"Y-m-d"}}" required>
    						</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Fim do período de inscrição de participantes</label>
							</div>
    						<div class="col-sm-8">
      							<input id="data_fim_inscricao" type="date" name="data_fim_inscricao" class="form-control" value ="{{ diaAberto_data.data_fim_inscricao|date:"Y-m-d"}}" required>
    						</div>
						</div>
					</div>
					<div class="InfoAlmoços" style="display: none;">
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Preço da refeição de aluno</label>
							</div>
    						<div class="col-sm-8">
      							<input id="preco_aluno" type="number" step="0.01" name="preco_aluno" class="form-control" value ="{{ diaAberto_data.preco_aluno}}" required>
    						</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Preço da refeição de Professor</label>
							</div>
    						<div class="col-sm-8">
      							<input id="preco_professor" type="number" step="0.01" name="preco_professor" class="form-control" value ="{{ diaAberto_data.preco_professor }}" required>
    						</div>
						</div>
					</div>
					<div class="InfoContactos" style="display: none;">
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Contacto Telefónico</label>
							</div>
    						<div class="col-sm-8">
      							<input id="contacto" type="text" name="contacto" class="form-control" value ="{{ diaAberto_data.contacto }}" required>
    						</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-4 col-form-label">
    							<label>Email</label>
							</div>
    						<div class="col-sm-8">
      							<input id="email" type="text" name="email" class="form-control" value ="{{ diaAberto_data.email }}" required>
    						</div>
						</div>
					</div>            
					<div class="form-group row mt-5">
						<div class="col-sm-10">
							<a type="button" class="btn btn-secondary mr-3" href="{% url 'diaAbertoConf:index' %}">Cancelar</a>
            		        <a href="" class="btn btn-primary save" data-toggle="modal" data-target="#Modal">Guardar</a>
						</div>
						<div class="col-sm-2 d-flex justify-content-end">
							<button type="button" class="btn btn-outline-secondary  fas fa-angle-left previousStep mr-3"></a>
							<button type="button" class="btn btn-outline-secondary  fas fa-angle-right nextStep"></a>						
						</div>
					</div>

            		<div class="modal" id="Modal">
						<div class="modal-dialog">
							<div class="modal-content">

							<!-- Modal Header -->
							<div class="modal-header">
								<h4 class="modal-title">Aviso</h4>
								<button type="button" class="close" data-dismiss="modal">×</button>
							</div>

							<!-- Modal body -->
							<div class="modal-body">
								Tem a certeza que pretende guardar as alterações?
							</div>

							<!-- Modal footer -->
							<div class="modal-footer">
							<form id="deleteModal" action = "{% url 'diaAbertoConf:editConfig' %}" method="post">
            		            {% csrf_token %}
								<button type="submit" class="btn btn-success" >Sim</button>
								<button type="button" class="btn btn-danger" data-dismiss="modal">Não</button>
							</div>

						</div>
            		</div>
        		</form>
			</div>
		</div>  
    </div>     
{% endblock%}
{% block js %}
	{% load static %}
	<script src={% static "diaAbertoConf/editConfig.js" %}></script>
{% endblock %}	
